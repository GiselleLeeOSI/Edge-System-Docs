<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>PI System (PI Web API) Egress Quick Start </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="PI System (PI Web API) Egress Quick Start ">
    <meta name="generator" content="docfx 2.43.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="piEgressQuickStart">
<h1 id="pi-system-pi-web-api-egress-quick-start">PI System (PI Web API) Egress Quick Start</h1>

<p>This document is a quick tour of getting data stored in the Edge System into a remote PI System. This is accomplished using PI Web API which is configured for Basic authentication. </p>
<h2 id="create-a-periodic-egress-configuration">Create a Periodic Egress Configuration</h2>
<p>The first step is to configure Edge Storage Periodic Egress for the PI Web API endpoint and credentials:</p>
<pre><code class="lang-json">[{
        &quot;Id&quot;: &quot;PWA&quot;,
        &quot;ExecutionPeriod&quot;: &quot;00:00:50&quot;,
        &quot;Name&quot;: null,
        &quot;NamespaceId&quot;: &quot;default&quot;,
        &quot;Description&quot;: null,
        &quot;Enabled&quot;: true,
        &quot;Backfill&quot;: false,
        &quot;EgressFilter&quot;: &quot;&quot;,
        &quot;StreamPrefix&quot;: &quot;&lt;unique stream prefix&gt;&quot;,
        &quot;TypePrefix&quot;: &quot;&lt;unique type prefix&gt;&quot;,
        &quot;Endpoint&quot;: &quot;https://&lt;your PI Web API Server&gt;/piwebapi/omf/&quot;,
        &quot;ClientId&quot;: null,
        &quot;ClientSecret&quot;: null,
        &quot;UserName&quot;: &quot;&lt;username&gt;&quot;,
        &quot;Password&quot;: &quot;&lt;password&gt;&quot;,
        &quot;DebugExpiration&quot;: null
}]
</code></pre><p>Edit the JSON above to add the server name of your PI Web API server, add a username and password that can write data to PI Web API using Basic authentication. It is also recommended that each device have a unique StreamPrefix and TypePrefix. These values will be used when creating unique PI Points on the PI System. Run the following curl script to configure the Edge Storage to send data to the PI System. This configuration is set up to send all stream data to the PI System. If you wish to only send specific streams, edit the EgressFilter value. Examples of more advanced scenarios are in the Egress section of this documentation.</p>
<p>Save the JSON with the file name PeriodicEgressEndpoints.json and run the following curl script in the same diretory where the file exists on the device where the Edge System is installed. The file and curl script can be run from any directory on the device:</p>
<pre><code class="lang-bash">curl -i -d &quot;@PeriodicEgressEndpoints.json&quot; -H &quot;Content-Type: application/json&quot; -X PUT http://localhost:5590/api/v1/configuration/storage/PeriodicEgressEndpoints/
</code></pre><p>When this command completes successfully data will start being sent to the PI System.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/Edge-System-Docs/blob/master/Beta2/Overview/PIEgressQuickStart.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
